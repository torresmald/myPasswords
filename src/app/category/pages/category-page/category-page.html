<app-shared-page [page]="page()!" [paginationData]="paginationData()!" [route]="'/categories'">
  <ng-container add-button>
    <button class="btn btn-primary" (click)="addNewCategory()">Add New Category</button>
  </ng-container>

  <ng-container manage-button>
    <button class="btn btn-secondary" (click)="managePasswords()">Manage Passwords</button>
  </ng-container>

  <ng-container mobile-buttons>
    <button class="btn btn-primary btn-sm" (click)="addNewCategory()">
      <app-icon name="plus" size="16"></app-icon>
    </button>
    <button class="btn btn-secondary btn-sm" (click)="managePasswords()">
      <app-icon name="lock" size="16"></app-icon>
    </button>
  </ng-container>

  <ng-container search>
    <app-search (searchedValue)="searchText.set($event)"></app-search>
  </ng-container>

  <ng-container item>
    @defer (on idle) { @for (category of categories() | search: searchText() : 'category'; track category.id) {
    <app-category [category]="category"></app-category>
    } } @loading {
    <app-loading></app-loading>
    }
  </ng-container>

  <ng-container empty>
    @if (categories().length === 0) {
    <div class="col-span-full text-center py-12">
      <app-icon name="list" size="64" customClass="text-gray-300 mx-auto mb-4"></app-icon>
      <p class="text-gray-500 text-lg">No categories found</p>
      <button class="btn btn-primary mt-4" (click)="addNewCategory()">
        Create your first category
      </button>
    </div>
    }
  </ng-container>
</app-shared-page>
